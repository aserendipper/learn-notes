高性能图数据库Neo4j从入门到实战教程，2021最新版【通俗易懂】
地址：[https://www.bilibili.com/video/BV1HQ4y1h78j](https://www.bilibili.com/video/BV1HQ4y1h78j)
# 1.图数据库Neo4j介绍
## 1.1 什么是图数据库（graph database）
随着社交、电商、金融、零售、物联网等行业的快速发展，现实社会织起了了一张庞大而复杂的关系网，传统数据库很难处理关系运算。大数据行业需要处理的数据之间的关系随数据量呈几何级数增长，急需一种支持海量复杂数据关系运算的数据库，图数据库应运而生。

世界上很多著名的公司都在使用图数据库，比如:
* 社交领域：Facebook, Twitter，Linkedin用它来管理社交关系，实现好友推荐
* 零售领域：eBay，沃尔玛使用它实现商品实时推荐，给买家更好的购物体验
* 金融领域：摩根大通，花旗和瑞银等银行在用图数据库做风控处理
* 汽车制造领域：沃尔沃，戴姆勒和丰田等顶级汽车制造商依靠图数据库推动创新制造解决方案
* 电信领域：Verizon, Orange和AT&T等电信公司依靠图数据库来管理网络，控制访问并支持客户
* 酒店领域：万豪和雅高酒店等顶级酒店公司依使用图数据库来管理复杂且快速变化的库存 

图数据库并非指存储图片的数据库，而是以图数据结构存储和查询数据。
图数据库是基于图论实现的一种NoSQL数据库，其数据存储结构和数据查询方式都是以图论为基础的，图数据库主要用于存储更多的连接数据。
> 图论〔Graph Theory〕是数学的一个分支。它以图为研究对象图论中的图是由若干给定的点及连 接两点的线所构成的图形，这种图形通常用来描述某些事物之间的某种特定关系，用点代表事物， 用连接两点的线表示相应两个事物间具有这种关系。
> ![Image text](image/高性能图数据库Neo4j从入门到实战教程/1.png)

使用 Google+(GooglePlus)应用程序来了解现实世界中 Graph 数据库的需求。 观察下面的图表。在这里，我们用圆圈表示了 Google+应用个人资料。
![Image text](image/高性能图数据库Neo4j从入门到实战教程/2.png)


在上图中，轮廓“A”具有圆圈以连接到其他轮廓:家庭圈(B，C，D)和朋友圈(B，C)。如果我们打开配置文件“B”，我们可以观察以下连接的数据。
![Image text](image/高性能图数据库Neo4j从入门到实战教程/3.png)

像这样，这些应用程序包含大量的结构化，半结构化和非结构化的连接数据。在RDBMS数据库中表示这种非结构化连接数据并不容易。如果我们在RDBMS数据库中存储这种更多连接的数据，那么检索或遍历是非常困难和缓慢的。所以要表示或存储这种更连接的数据，我们应该选择一个流行的图数据库。
图数据库非常容易地存储这种更多连接的数据。它将每个配置文件数据作为节点存储在内部，它与相邻节点连接的节点，它们通过关系相互连接。他们存储这种连接的数据与上面的图表中的相同，这样检索 或遍历是非常容易和更快的。

* 关系查询性能对比

在数据关系中心，图形数据库在查询速度方面非常高效，即使对于深度和复杂的查询 也是如此。在关系型数据库和图数据库(Neo4j)之间进行了实验:在一个社交网络里找到最大深度为5的 朋友的朋友，他们的数据集包括100万人，每人约有50个朋友。
实验结果如下：
![Image text](image/高性能图数据库Neo4j从入门到实战教程/4.png)

* 对比关系型数据库

![Image text](image/高性能图数据库Neo4j从入门到实战教程/5.png)
在关系型数据库中，Person和Department表之间用外键表示关系：
![Image text](image/高性能图数据库Neo4j从入门到实战教程/6.png)
在图数据库中，节点和关系取代表，外键和join：
![Image text](image/高性能图数据库Neo4j从入门到实战教程/7.png)
在图数据库中，无论何时运行类似JOIN的操作，数据库都会使用此列表并直接访问连接的节点，而无需进行昂贵的搜索和匹配计算。

* 对比其他NoSQL数据库

NoSQL数据库大致可以分为四类:
* 键值(key/value)数据库 
* 列存储数据库 
* 文档型数据库 
* 图数据库 

![Image text](image/高性能图数据库Neo4j从入门到实战教程/8.png)
![Image text](image/高性能图数据库Neo4j从入门到实战教程/9.png)

## 1.2 什么是Neo4j
Neo4j是一个开源的NoSQL图形数据库，2003年开始开发，使用scala和java语言，2007年开始发布。
* 是世界上最先进的图数据库之一，提供原生的图数据存储，检索和处理
* 采用属性图模型(Property graph model)，极大的完善和丰富图数据模型
* 专属查询语言Cypher，直观，高效

官网:[https://neo4j.com/](https://neo4j.com/)
Neo4j的特性:
* SQL就像简单的查询语言Neo4j CQL
* 它遵循属性图数据模型
* 它通过使用Apache Lucence支持索引
* 它支持UNIQUE约束
* 它包含一个用于执行CQL命令的UI:Neo4j数据浏览器
* 它支持完整的ACID(原子性，一致性，隔离性和持久性)规则
* 它采用原生图形库与本地GPE(图形处理引擎)
* 它支持查询的数据导出到JSON和XLS格式
* 它提供了REST API，可以被任何编程语言(如Java，Spring，Scala等)访问
* 它提供了可以通过任何UI MVC框架(如Node JS)访问的Java脚本
* 它支持两种Java API:Cypher API和Native Java API来开发Java应用程序

Neo4j的优点:
* 它很容易表示连接的数据
* 检索/遍历/导航更多的连接数据是非常容易和快速的
* 它非常容易地表示半结构化数据
* Neo4j CQL查询语言命令是人性化的可读格式，非常容易学习
* 使用简单而强大的数据模型
* 它不需要复杂的连接来检索连接的/相关的数据，因为它很容易检索它的相邻节点或关系细节没有连接或索引
